# Clock Generator â€“ Derived Clock Design

## ðŸ“Œ Basic Overview

This problem focuses on designing a **clock generator module** that produces two derived clocks (`clk_v1` and `clk_v2`) from a single input clock (`clk_in`).

### Constraints:
- All flip-flops must be **positive-edge triggered**
- **Asynchronous reset** must be supported
- Only **basic digital logic** (flops + combinational logic) is allowed
- The generated clocks must follow the waveform specification provided in the problem

This type of problem is very common in **digital design interviews** and **SoC-level clocking logic**.

---

## ðŸ§  Intuition Behind the Problem

At first glance, this looks like a clock-manipulation problem, but the real intention is to test:

- Your understanding of **clock division**
- Your ability to generate **phase-related clocks**
- Safe usage of **clock gating**
- Knowledge of **reset-driven determinism**

The key insight is:
> If you can create a divide-by-2 signal using a flip-flop, you can use it as an **enable** to control when the original clock is allowed to propagate.

From that single idea, multiple clock phases can be constructed.

---

## ðŸ› ï¸ Design Approach

### 1ï¸âƒ£ Create a Toggle Flip-Flop
- A D flip-flop is used where the next state is the **inverted current state**
- This causes the output (`q`) to toggle every clock edge
- Result: `q` becomes a **divide-by-2 version of `clk_in`**

### 2ï¸âƒ£ Generate `clk_v1` Using Clock Gating
- `clk_v1` is generated by AND-ing `clk_in` with `q`
- This allows the clock to pass only on alternate cycles
- Effectively produces a gated clock with half the frequency

### 3ï¸âƒ£ Generate `clk_v2` Using Phase Logic
- `clk_v2` is generated using XOR between `clk_in` and `clk_v1`
- XOR ensures `clk_v2` is active when `clk_v1` is inactive
- This creates a **complementary phase relationship**

### 4ï¸âƒ£ Use Asynchronous Reset
- Reset forces the flip-flop into a known state
- This ensures deterministic startup behavior
- Prevents random clock phases after reset deassertion

---

## ðŸ“ˆ Resulting Behavior

| Signal | Description |
|------|------------|
| `q` | Divide-by-2 toggle signal |
| `clk_v1` | Gated clock (active on alternate cycles) |
| `clk_v2` | Complementary phase clock |

Together, `clk_v1` and `clk_v2` form **non-overlapping, phase-related clocks** derived safely from `clk_in`.

---

## ðŸŽ“ Learnings and Takeaways

- ðŸ”¹ A single flip-flop can be used as a **clock divider**
- ðŸ”¹ Clock gating can be achieved using simple AND logic
- ðŸ”¹ XOR is a powerful tool for **phase generation**
- ðŸ”¹ Resets are critical for **deterministic clock behavior**
- ðŸ”¹ Safe clock design avoids negedge logic and delays
- ðŸ”¹ This pattern appears frequently in **low-power SoC designs**

---

## ðŸ§© Why This Problem Matters

This question reflects real-world scenarios such as:
- Clock enable generation
- Power-aware clock control
- Phase-aligned clock domains
- Interview-level RTL design challenges

Mastering this concept strengthens your foundation in **clocking, timing, and synchronous design**.

---

## âœ… Summary

> Divide â†’ Gate â†’ Phase-shift

This entire design is built from one simple idea executed cleanly using correct RTL practices.

---

**Author:** Arihant Kumar  
**Topic:** RTL Design / Clock Generation  
